# Commit Message Guidelines

1. **Follow Conventional Commit Format with Japanese**

   - Subject line rules
     - Keep the subject concise and clear.
     - Use simple, direct expressions for the subject line with consistent Japanese verb forms.
       - Examples:
         - New features: `〜を追加`, `〜を実装`, `〜を導入`
         - Fixes: `〜を修正`, `〜を解決`, `〜を訂正`
         - Updates: `〜を更新`, `〜を改善`, `〜を最適化`
         - Deletions: `〜を削除`, `〜を除去`
     - Use the format: `type(scope): <Japanese subject>` (scope is optional)
       - Constraints (MUST/SHOULD)
         - MUST: `type` ∈ {build, ci, docs, feat, fix, perf, refactor, style, test, chore}
         - SHOULD: Include `scope`; omit only when the change is trivially self-evident
         - SHOULD: Japanese subject (after `:`) length <= 30 chars; no trailing period
         - Regex (validation): `^(build|ci|docs|feat|fix|perf|refactor|style|test|chore)(\([a-z0-9-]+\))?(!)?: [^\s].{0,29}$`
       - Available types
         - `build`: build system or dependencies
         - `ci`: CI pipeline
         - `docs`: documentation
         - `feat`: new feature
         - `fix`: bug fix
         - `perf`: performance (no behavior change)
         - `refactor`: internal structure (no behavior change)
         - `style`: formatting only (no logic change)
         - `test`: tests
         - `chore`: misc maintenance (excluding build/CI)
       - Scope rules
         - Names are English, lowercase, kebab-case; keep consistent across the project
         - Choose a scope that clearly identifies the affected area; the list below is illustrative, not exhaustive
         - Example scopes: `api`, `auth`, `db`, `ui`, `ci`, `deps`

2. **Breaking Changes**
   - MUST: Append `!` after the type (and scope if present) to signal a breaking change
   - MUST: Add a `BREAKING CHANGE: <description>` footer after the body (separated by a blank line)
   - Example:

     ```text
     feat(db)!: カラム名を変更

     - `node.type` を `node.typeId` にリネーム

     BREAKING CHANGE: 既存データのマイグレーションが必要
     ```

3. **Provide Detailed Context in Body**
   - MUST: If the subject is sufficient, omit the body; add it only for missing context (reason/scope/impact).
   - MUST: Leave one blank line after the subject line.
   - MUST: Write the body in Japanese.
   - MUST: Output the body as a bullet list (`-`), one idea per bullet.
   - SHOULD: Include both What (what was changed) and Why (the reason for the change).
   - SHOULD: Keep each bullet line length <= 72 characters.
   - MAY: Add Impact or Refs at the end when applicable.
